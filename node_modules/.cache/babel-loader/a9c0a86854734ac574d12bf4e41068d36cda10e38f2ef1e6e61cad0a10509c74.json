{"ast":null,"code":"var _jsxFileName = \"/Users/mac/Desktop/application/EFrontend/src/BuyCourses.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport Header from './Home/Header';\nimport Footer2 from './Home/Footer2';\nimport { useApi } from './hooks/useApi';\nimport { API_BASE, API_BASE_URL } from './config';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst COURSE = {\n  title: \"Net Zero Carbon Strategy for Business\",\n  description: \"A comprehensive course on decarbonisation, carbon accounting, carbon reduction, and sustainability for businesses. Taught by industry experts. Includes video lectures, downloadable resources, and a certificate.\",\n  price: 10,\n  image: require('./Home/Logo.png'),\n  id: 'netzero-carbon-course'\n};\nconst BuyCourses = () => {\n  _s();\n  const [date, setDate] = useState('');\n  const [people, setPeople] = useState(8);\n  const [checking, setChecking] = useState(false);\n  const [available, setAvailable] = useState(null);\n  const [error, setError] = useState('');\n  const [stripeLoading, setStripeLoading] = useState(false);\n  const [city, setCity] = useState('');\n  const [instructors, setInstructors] = useState([]);\n  const [selectedInstructor, setSelectedInstructor] = useState('');\n  const [availableSlots, setAvailableSlots] = useState([]);\n  const [selectedSlot, setSelectedSlot] = useState(null);\n  const [message, setMessage] = useState('');\n  const userPackage = (localStorage.getItem('package') || '').toLowerCase();\n  const isEligible = userPackage === 'pro' || userPackage === 'premium';\n  const hasCourse = localStorage.getItem('hasCourse') === 'true';\n  const {\n    get,\n    post\n  } = useApi();\n  useEffect(() => {\n    // Optionally, fetch from backend if you want to check real purchase status\n  }, []);\n\n  // Fetch instructors when city changes\n  useEffect(() => {\n    if (city) {\n      fetch(`${API_BASE_URL}/api/instructors?city=${encodeURIComponent(city)}`).then(res => res.json()).then(data => setInstructors(data)).catch(() => setInstructors([]));\n    } else {\n      setInstructors([]);\n    }\n    setSelectedInstructor('');\n    setAvailableSlots([]);\n    setSelectedSlot(null);\n  }, [city, date]);\n\n  // Fetch available slots for all instructors in city for selected date\n  useEffect(() => {\n    if (instructors.length && date) {\n      // For demo: aggregate all instructors' free slots for the selected date\n      Promise.all(instructors.map(inst => fetch(`${API_BASE_URL}/api/instructors/profile/${inst.email}`).then(res => res.json()))).then(profiles => {\n        // For each instructor, calculate free slots for the selected date\n        const day = new Date(date).toLocaleDateString('en-US', {\n          weekday: 'long'\n        });\n        let slots = [];\n        profiles.forEach(inst => {\n          var _inst$availability;\n          const avail = ((_inst$availability = inst.availability) === null || _inst$availability === void 0 ? void 0 : _inst$availability[day]) || [];\n          const bookings = (inst.bookings || []).filter(b => b.date === date);\n          // Subtract bookings from availability\n          avail.forEach(slot => {\n            let free = [{\n              ...slot\n            }];\n            bookings.forEach(bk => {\n              free = free.flatMap(s => {\n                if (bk.start >= s.start && bk.end <= s.end) {\n                  const before = bk.start > s.start ? {\n                    start: s.start,\n                    end: bk.start\n                  } : null;\n                  const after = bk.end < s.end ? {\n                    start: bk.end,\n                    end: s.end\n                  } : null;\n                  return [before, after].filter(Boolean);\n                }\n                return [s];\n              });\n            });\n            free.forEach(f => {\n              if (f.start && f.end) {\n                slots.push({\n                  instructor: inst.email,\n                  start: f.start,\n                  end: f.end\n                });\n              }\n            });\n          });\n        });\n        setAvailableSlots(slots);\n      });\n    } else {\n      setAvailableSlots([]);\n    }\n  }, [instructors, date]);\n  const checkAvailability = async () => {\n    setChecking(true);\n    setError('');\n    setTimeout(() => {\n      setAvailable(true);\n      setChecking(false);\n    }, 700);\n  };\n  const handleBook = async () => {\n    if (!selectedSlot) return;\n    setStripeLoading(true);\n    setError('');\n    try {\n      // Add booking to instructor\n      await fetch(`${API_BASE_URL}/api/instructors/booking/${selectedSlot.instructor}`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          date,\n          start: selectedSlot.start,\n          end: selectedSlot.end,\n          subject: COURSE.title,\n          location: city,\n          studentCount: people\n        })\n      });\n      setStripeLoading(false);\n      setAvailable(false);\n      setSelectedSlot(null);\n      setSelectedInstructor('');\n      setMessage('Booking successful! Confirmation email will be sent.');\n    } catch (err) {\n      setError('Booking error.');\n      setStripeLoading(false);\n    }\n  };\n  const handleCheckout = async () => {\n    setStripeLoading(true);\n    setError('');\n    let price = COURSE.price * people;\n    if (userPackage === 'premium') price = price * 0.8;\n    try {\n      const res = await fetch(`${API_BASE}/api/create-checkout-session`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        credentials: 'include',\n        body: JSON.stringify({\n          cart: [{\n            name: COURSE.title,\n            price,\n            quantity: 1\n          }]\n        })\n      });\n      const data = await res.json();\n      if (data.url) {\n        localStorage.setItem('purchasedPackage', `course:${COURSE.title}`);\n        localStorage.setItem('hasCourse', 'true');\n        window.location.href = data.url;\n      } else {\n        setError('Failed to start checkout.');\n      }\n    } catch (err) {\n      setError('Checkout error.');\n    } finally {\n      setStripeLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        margin: '200px',\n        background: '#fff',\n        minHeight: '100vh',\n        padding: '120px 0 60px 0',\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          width: 400,\n          background: '#fff',\n          borderRadius: 20,\n          boxShadow: '0 4px 24px rgba(0,0,0,0.08)',\n          overflow: 'hidden',\n          margin: '32px 0',\n          padding: 0\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            height: 180,\n            background: '#222',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            overflow: 'hidden',\n            position: 'relative'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: COURSE.image,\n            alt: \"Course\",\n            style: {\n              width: '100%',\n              height: '100%',\n              objectFit: 'cover'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              position: 'absolute',\n              top: 16,\n              left: 16,\n              background: '#ffb400',\n              color: '#fff',\n              borderRadius: 8,\n              padding: '4px 16px',\n              fontWeight: 600,\n              fontSize: 16,\n              boxShadow: '0 2px 8px rgba(0,0,0,0.08)',\n              display: 'inline-block'\n            },\n            children: \"Featured\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            padding: 28\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            style: {\n              fontWeight: 700,\n              fontSize: 24,\n              marginBottom: 8\n            },\n            children: COURSE.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              color: '#222',\n              fontSize: 16,\n              marginBottom: 12\n            },\n            children: COURSE.description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              color: '#27ae60',\n              fontWeight: 600,\n              fontSize: 18,\n              marginBottom: 8\n            },\n            children: [\"Price: $\", COURSE.price, \" per person \", userPackage === 'premium' && /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"(20% off for Premium!)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 185,\n              columnNumber: 79\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              color: '#888',\n              fontSize: 14,\n              marginBottom: 18\n            },\n            children: \"Minimum 8 people per booking.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 13\n          }, this), !isEligible && /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              color: '#e74c3c',\n              fontWeight: 600,\n              fontSize: 18,\n              margin: '18px 0'\n            },\n            children: [\"You must have a Pro or Premium membership to buy this course.\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 190,\n              columnNumber: 78\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"/pricing\",\n              style: {\n                color: '#ff6b57',\n                textDecoration: 'underline'\n              },\n              children: \"See Membership Plans\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 191,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 15\n          }, this), hasCourse && /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              color: '#27ae60',\n              fontWeight: 600,\n              fontSize: 18,\n              margin: '18px 0'\n            },\n            children: [\"You have already purchased this course.\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 196,\n              columnNumber: 56\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"/courses\",\n              style: {\n                color: '#ff6b57',\n                textDecoration: 'underline'\n              },\n              children: \"Go to Courses\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 197,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 15\n          }, this), isEligible && !hasCourse && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"ol\", {\n              style: {\n                marginBottom: 16,\n                color: '#888',\n                fontSize: 15,\n                paddingLeft: 18\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                children: \"Select number of people (min 8)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 203,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: \"Pick a date\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 204,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: \"Check availability\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 205,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: \"Proceed to checkout and payment\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 206,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 202,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              style: {\n                display: 'block',\n                marginBottom: 8\n              },\n              children: \"Number of people (min 8):\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 208,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              min: 8,\n              value: people,\n              onChange: e => setPeople(Math.max(8, parseInt(e.target.value) || 8)),\n              style: {\n                width: '100%',\n                marginBottom: 12,\n                padding: 8,\n                borderRadius: 6,\n                border: '1px solid #ccc'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 209,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              style: {\n                display: 'block',\n                marginBottom: 8\n              },\n              children: \"Location (City):\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 210,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: city,\n              onChange: e => setCity(e.target.value),\n              style: {\n                width: '100%',\n                marginBottom: 12,\n                padding: 8,\n                borderRadius: 6,\n                border: '1px solid #ccc'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 211,\n              columnNumber: 17\n            }, this), availableSlots.length > 0 && /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                style: {\n                  display: 'block',\n                  marginBottom: 8\n                },\n                children: \"Available Time Slots:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 215,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: selectedSlot ? `${selectedSlot.instructor}|${selectedSlot.start}|${selectedSlot.end}` : '',\n                onChange: e => {\n                  const [instructor, start, end] = e.target.value.split('|');\n                  setSelectedSlot({\n                    instructor,\n                    start,\n                    end\n                  });\n                },\n                style: {\n                  width: '100%',\n                  marginBottom: 12,\n                  padding: 8,\n                  borderRadius: 6,\n                  border: '1px solid #ccc'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"Select a slot\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 220,\n                  columnNumber: 23\n                }, this), availableSlots.map((slot, i) => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: `${slot.instructor}|${slot.start}|${slot.end}`,\n                  children: [slot.instructor, \" - \", slot.start, \" to \", slot.end]\n                }, i, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 222,\n                  columnNumber: 25\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 216,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: checkAvailability,\n              disabled: checking || !date || !city,\n              style: {\n                width: '100%',\n                background: '#90be55',\n                color: '#fff',\n                border: 'none',\n                borderRadius: 6,\n                padding: '10px 0',\n                fontWeight: 600,\n                marginBottom: 12\n              },\n              children: checking ? 'Checking...' : 'Check Availability'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 227,\n              columnNumber: 17\n            }, this), available && selectedSlot && /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  marginBottom: 12,\n                  color: '#27ae60'\n                },\n                children: \"Available!\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 232,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleBook,\n                disabled: stripeLoading,\n                style: {\n                  width: '100%',\n                  background: '#ff6b57',\n                  color: '#fff',\n                  border: 'none',\n                  borderRadius: 6,\n                  padding: '10px 0',\n                  fontWeight: 600\n                },\n                children: stripeLoading ? 'Booking...' : `Book Now ($${userPackage === 'premium' ? (COURSE.price * people * 0.8).toFixed(2) : (COURSE.price * people).toFixed(2)})`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 233,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true), message && /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                color: 'green',\n                marginTop: 8\n              },\n              children: message\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 238,\n              columnNumber: 29\n            }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                color: 'red',\n                marginTop: 8\n              },\n              children: error\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 239,\n              columnNumber: 27\n            }, this)]\n          }, void 0, true)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Footer2, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s(BuyCourses, \"mnyzMbRQ2XI8juj9vekIXBwyo58=\", false, function () {\n  return [useApi];\n});\n_c = BuyCourses;\nexport default BuyCourses;\nvar _c;\n$RefreshReg$(_c, \"BuyCourses\");","map":{"version":3,"names":["React","useEffect","useState","Header","Footer2","useApi","API_BASE","API_BASE_URL","jsxDEV","_jsxDEV","Fragment","_Fragment","COURSE","title","description","price","image","require","id","BuyCourses","_s","date","setDate","people","setPeople","checking","setChecking","available","setAvailable","error","setError","stripeLoading","setStripeLoading","city","setCity","instructors","setInstructors","selectedInstructor","setSelectedInstructor","availableSlots","setAvailableSlots","selectedSlot","setSelectedSlot","message","setMessage","userPackage","localStorage","getItem","toLowerCase","isEligible","hasCourse","get","post","fetch","encodeURIComponent","then","res","json","data","catch","length","Promise","all","map","inst","email","profiles","day","Date","toLocaleDateString","weekday","slots","forEach","_inst$availability","avail","availability","bookings","filter","b","slot","free","bk","flatMap","s","start","end","before","after","Boolean","f","push","instructor","checkAvailability","setTimeout","handleBook","method","headers","body","JSON","stringify","subject","location","studentCount","err","handleCheckout","credentials","cart","name","quantity","url","setItem","window","href","children","fileName","_jsxFileName","lineNumber","columnNumber","style","margin","background","minHeight","padding","display","flexDirection","alignItems","width","borderRadius","boxShadow","overflow","height","justifyContent","position","src","alt","objectFit","top","left","color","fontWeight","fontSize","marginBottom","textDecoration","paddingLeft","type","min","value","onChange","e","Math","max","parseInt","target","border","split","i","onClick","disabled","toFixed","marginTop","_c","$RefreshReg$"],"sources":["/Users/mac/Desktop/application/EFrontend/src/BuyCourses.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport Header from './Home/Header';\nimport Footer2 from './Home/Footer2';\nimport { useApi } from './hooks/useApi';\nimport { API_BASE, API_BASE_URL } from './config';\n\nconst COURSE = {\n  title: \"Net Zero Carbon Strategy for Business\",\n  description: \"A comprehensive course on decarbonisation, carbon accounting, carbon reduction, and sustainability for businesses. Taught by industry experts. Includes video lectures, downloadable resources, and a certificate.\",\n  price: 10,\n  image: require('./Home/Logo.png'),\n  id: 'netzero-carbon-course',\n};\n\nconst BuyCourses = () => {\n  const [date, setDate] = useState('');\n  const [people, setPeople] = useState(8);\n  const [checking, setChecking] = useState(false);\n  const [available, setAvailable] = useState(null);\n  const [error, setError] = useState('');\n  const [stripeLoading, setStripeLoading] = useState(false);\n  const [city, setCity] = useState('');\n  const [instructors, setInstructors] = useState([]);\n  const [selectedInstructor, setSelectedInstructor] = useState('');\n  const [availableSlots, setAvailableSlots] = useState([]);\n  const [selectedSlot, setSelectedSlot] = useState(null);\n  const [message, setMessage] = useState('');\n  const userPackage = (localStorage.getItem('package') || '').toLowerCase();\n  const isEligible = userPackage === 'pro' || userPackage === 'premium';\n  const hasCourse = localStorage.getItem('hasCourse') === 'true';\n  const { get, post } = useApi();\n\n  useEffect(() => {\n    // Optionally, fetch from backend if you want to check real purchase status\n  }, []);\n\n  // Fetch instructors when city changes\n  useEffect(() => {\n    if (city) {\n      fetch(`${API_BASE_URL}/api/instructors?city=${encodeURIComponent(city)}`)\n        .then(res => res.json())\n        .then(data => setInstructors(data))\n        .catch(() => setInstructors([]));\n    } else {\n      setInstructors([]);\n    }\n    setSelectedInstructor('');\n    setAvailableSlots([]);\n    setSelectedSlot(null);\n  }, [city, date]);\n\n  // Fetch available slots for all instructors in city for selected date\n  useEffect(() => {\n    if (instructors.length && date) {\n      // For demo: aggregate all instructors' free slots for the selected date\n      Promise.all(instructors.map(inst =>\n        fetch(`${API_BASE_URL}/api/instructors/profile/${inst.email}`)\n          .then(res => res.json())\n      )).then(profiles => {\n        // For each instructor, calculate free slots for the selected date\n        const day = new Date(date).toLocaleDateString('en-US', { weekday: 'long' });\n        let slots = [];\n        profiles.forEach(inst => {\n          const avail = inst.availability?.[day] || [];\n          const bookings = (inst.bookings || []).filter(b => b.date === date);\n          // Subtract bookings from availability\n          avail.forEach(slot => {\n            let free = [{ ...slot }];\n            bookings.forEach(bk => {\n              free = free.flatMap(s => {\n                if (bk.start >= s.start && bk.end <= s.end) {\n                  const before = bk.start > s.start ? { start: s.start, end: bk.start } : null;\n                  const after = bk.end < s.end ? { start: bk.end, end: s.end } : null;\n                  return [before, after].filter(Boolean);\n                }\n                return [s];\n              });\n            });\n            free.forEach(f => {\n              if (f.start && f.end) {\n                slots.push({ instructor: inst.email, start: f.start, end: f.end });\n              }\n            });\n          });\n        });\n        setAvailableSlots(slots);\n      });\n    } else {\n      setAvailableSlots([]);\n    }\n  }, [instructors, date]);\n\n  const checkAvailability = async () => {\n    setChecking(true);\n    setError('');\n    setTimeout(() => {\n      setAvailable(true);\n      setChecking(false);\n    }, 700);\n  };\n\n  const handleBook = async () => {\n    if (!selectedSlot) return;\n    setStripeLoading(true);\n    setError('');\n    try {\n      // Add booking to instructor\n      await fetch(`${API_BASE_URL}/api/instructors/booking/${selectedSlot.instructor}`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          date,\n          start: selectedSlot.start,\n          end: selectedSlot.end,\n          subject: COURSE.title,\n          location: city,\n          studentCount: people\n        })\n      });\n      setStripeLoading(false);\n      setAvailable(false);\n      setSelectedSlot(null);\n      setSelectedInstructor('');\n      setMessage('Booking successful! Confirmation email will be sent.');\n    } catch (err) {\n      setError('Booking error.');\n      setStripeLoading(false);\n    }\n  };\n\n  const handleCheckout = async () => {\n    setStripeLoading(true);\n    setError('');\n    let price = COURSE.price * people;\n    if (userPackage === 'premium') price = price * 0.8;\n    try {\n      const res = await fetch(`${API_BASE}/api/create-checkout-session`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        credentials: 'include',\n        body: JSON.stringify({\n          cart: [{ name: COURSE.title, price, quantity: 1 }]\n        })\n      });\n      const data = await res.json();\n      if (data.url) {\n        localStorage.setItem('purchasedPackage', `course:${COURSE.title}`);\n        localStorage.setItem('hasCourse', 'true');\n        window.location.href = data.url;\n      } else {\n        setError('Failed to start checkout.');\n      }\n    } catch (err) {\n      setError('Checkout error.');\n    } finally {\n      setStripeLoading(false);\n    }\n  };\n\n  return (\n    <>\n      <Header />\n      <div style={{ margin:'200px',background: '#fff', minHeight: '100vh', padding: '120px 0 60px 0', display: 'flex', flexDirection: 'column', alignItems: 'center' }}>\n        <div style={{ width: 400, background: '#fff', borderRadius: 20, boxShadow: '0 4px 24px rgba(0,0,0,0.08)', overflow: 'hidden', margin: '32px 0', padding: 0 }}>\n          <div style={{ height: 180, background: '#222', display: 'flex', alignItems: 'center', justifyContent: 'center', overflow: 'hidden', position: 'relative' }}>\n            <img src={COURSE.image} alt=\"Course\" style={{ width: '100%', height: '100%', objectFit: 'cover' }} />\n            <span style={{\n              position: 'absolute',\n              top: 16,\n              left: 16,\n              background: '#ffb400',\n              color: '#fff',\n              borderRadius: 8,\n              padding: '4px 16px',\n              fontWeight: 600,\n              fontSize: 16,\n              boxShadow: '0 2px 8px rgba(0,0,0,0.08)',\n              display: 'inline-block',\n            }}>Featured</span>\n          </div>\n          <div style={{ padding: 28 }}>\n            <h2 style={{ fontWeight: 700, fontSize: 24, marginBottom: 8 }}>{COURSE.title}</h2>\n            <div style={{ color: '#222', fontSize: 16, marginBottom: 12 }}>{COURSE.description}</div>\n            <div style={{ color: '#27ae60', fontWeight: 600, fontSize: 18, marginBottom: 8 }}>\n              Price: ${COURSE.price} per person {userPackage === 'premium' && <span>(20% off for Premium!)</span>}\n            </div>\n            <div style={{ color: '#888', fontSize: 14, marginBottom: 18 }}>Minimum 8 people per booking.</div>\n            {!isEligible && (\n              <div style={{ color: '#e74c3c', fontWeight: 600, fontSize: 18, margin: '18px 0' }}>\n                You must have a Pro or Premium membership to buy this course.<br />\n                <a href=\"/pricing\" style={{ color: '#ff6b57', textDecoration: 'underline' }}>See Membership Plans</a>\n              </div>\n            )}\n            {hasCourse && (\n              <div style={{ color: '#27ae60', fontWeight: 600, fontSize: 18, margin: '18px 0' }}>\n                You have already purchased this course.<br />\n                <a href=\"/courses\" style={{ color: '#ff6b57', textDecoration: 'underline' }}>Go to Courses</a>\n              </div>\n            )}\n            {isEligible && !hasCourse && (\n              <>\n                <ol style={{ marginBottom: 16, color: '#888', fontSize: 15, paddingLeft: 18 }}>\n                  <li>Select number of people (min 8)</li>\n                  <li>Pick a date</li>\n                  <li>Check availability</li>\n                  <li>Proceed to checkout and payment</li>\n                </ol>\n                <label style={{ display: 'block', marginBottom: 8 }}>Number of people (min 8):</label>\n                <input type=\"number\" min={8} value={people} onChange={e => setPeople(Math.max(8, parseInt(e.target.value)||8))} style={{ width: '100%', marginBottom: 12, padding: 8, borderRadius: 6, border: '1px solid #ccc' }} />\n                <label style={{ display: 'block', marginBottom: 8 }}>Location (City):</label>\n                <input type=\"text\" value={city} onChange={e => setCity(e.target.value)} style={{ width: '100%', marginBottom: 12, padding: 8, borderRadius: 6, border: '1px solid #ccc' }} />\n                {/* Show available slots if city and date are selected */}\n                {availableSlots.length > 0 && (\n                  <>\n                    <label style={{ display: 'block', marginBottom: 8 }}>Available Time Slots:</label>\n                    <select value={selectedSlot ? `${selectedSlot.instructor}|${selectedSlot.start}|${selectedSlot.end}` : ''} onChange={e => {\n                      const [instructor, start, end] = e.target.value.split('|');\n                      setSelectedSlot({ instructor, start, end });\n                    }} style={{ width: '100%', marginBottom: 12, padding: 8, borderRadius: 6, border: '1px solid #ccc' }}>\n                      <option value=\"\">Select a slot</option>\n                      {availableSlots.map((slot, i) => (\n                        <option key={i} value={`${slot.instructor}|${slot.start}|${slot.end}`}>{slot.instructor} - {slot.start} to {slot.end}</option>\n                      ))}\n                    </select>\n                  </>\n                )}\n                <button onClick={checkAvailability} disabled={checking || !date || !city} style={{ width: '100%', background: '#90be55', color: '#fff', border: 'none', borderRadius: 6, padding: '10px 0', fontWeight: 600, marginBottom: 12 }}>\n                  {checking ? 'Checking...' : 'Check Availability'}\n                </button>\n                {available && selectedSlot && (\n                  <>\n                    <div style={{ marginBottom: 12, color: '#27ae60' }}>Available!</div>\n                    <button onClick={handleBook} disabled={stripeLoading} style={{ width: '100%', background: '#ff6b57', color: '#fff', border: 'none', borderRadius: 6, padding: '10px 0', fontWeight: 600 }}>\n                      {stripeLoading ? 'Booking...' : `Book Now ($${userPackage === 'premium' ? (COURSE.price*people*0.8).toFixed(2) : (COURSE.price*people).toFixed(2)})`}\n                    </button>\n                  </>\n                )}\n                {message && <div style={{ color: 'green', marginTop: 8 }}>{message}</div>}\n                {error && <div style={{ color: 'red', marginTop: 8 }}>{error}</div>}\n              </>\n            )}\n          </div>\n        </div>\n      </div>\n      <Footer2 />\n    </>\n  );\n};\n\nexport default BuyCourses; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}