{"ast":null,"code":"var _jsxFileName = \"/Users/mac/Desktop/application/EFrontend/src/Login/Login.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport Header from '../Home/Header';\nimport { useNavigate } from 'react-router-dom';\nimport \"./Login.css\";\nimport Footer2 from '../Home/Footer2';\nimport { useTranslation } from 'react-i18next';\nimport { useApi } from '../hooks/useApi';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Login = () => {\n  _s();\n  const {\n    t\n  } = useTranslation();\n  const [formData, setFormData] = useState({\n    email: '',\n    password: ''\n  });\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState('');\n  const navigate = useNavigate();\n  const {\n    post\n  } = useApi();\n  const handleChange = e => {\n    setFormData({\n      ...formData,\n      [e.target.name]: e.target.value\n    });\n    setError(''); // Clear error when user types\n    setSuccess(''); // Clear success when user types\n  };\n  const handleLogin = async e => {\n    e.preventDefault();\n    setError('');\n    setSuccess('');\n    try {\n      const data = await post('http://localhost:5001/api/login', formData, 'Logging in...');\n      const normalizedPackage = (data.package || \"free\").toLowerCase().replace(\" plan\", \"\").trim();\n      localStorage.setItem(\"package\", normalizedPackage);\n      if (formData.email === \"admin1234@gmail.com\" && formData.password === \"admin1234\") {\n        setSuccess(\"Admin login successful!\");\n        localStorage.setItem(\"isAdmin\", \"true\");\n        localStorage.setItem(\"isLoggedIn\", \"true\");\n        setTimeout(() => navigate('/Articles'), 1500);\n      } else {\n        localStorage.setItem(\"isAdmin\", \"false\");\n        localStorage.setItem(\"isLoggedIn\", \"true\");\n        setSuccess('Login successful!');\n        // redirect to dashboard or home\n        setTimeout(() => navigate('/'), 1500);\n      }\n    } catch (err) {\n      console.error(err);\n      setError(err.message || 'Error logging in.');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"upperheader\",\n      children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"uuy\",\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          id: \"form\",\n          onSubmit: handleLogin,\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: t(\"login.title\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 11\n          }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              color: 'red',\n              marginBottom: '10px',\n              textAlign: 'center'\n            },\n            children: error\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 23\n          }, this), success && /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              color: 'green',\n              marginBottom: '10px',\n              textAlign: 'center'\n            },\n            children: success\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"ineerf\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: [t(\"login.email\"), \" :\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"email\",\n              name: \"email\",\n              value: formData.email,\n              onChange: handleChange,\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"ineerf\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: [t(\"login.password\"), \" :\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"password\",\n              name: \"password\",\n              value: formData.password,\n              onChange: handleChange,\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            children: t(\"login.submit\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Footer2, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s(Login, \"kco9DDPjUZ3I28qj/w1KgQEFfN8=\", false, function () {\n  return [useTranslation, useNavigate, useApi];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","Header","useNavigate","Footer2","useTranslation","useApi","jsxDEV","_jsxDEV","Fragment","_Fragment","Login","_s","t","formData","setFormData","email","password","error","setError","success","setSuccess","navigate","post","handleChange","e","target","name","value","handleLogin","preventDefault","data","normalizedPackage","package","toLowerCase","replace","trim","localStorage","setItem","setTimeout","err","console","message","children","id","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","style","color","marginBottom","textAlign","type","onChange","required","_c","$RefreshReg$"],"sources":["/Users/mac/Desktop/application/EFrontend/src/Login/Login.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport Header from '../Home/Header';\nimport { useNavigate } from 'react-router-dom';\nimport \"./Login.css\";\nimport Footer2 from '../Home/Footer2';\nimport { useTranslation } from 'react-i18next';\nimport { useApi } from '../hooks/useApi';\n\nconst Login = () => {\n  const { t } = useTranslation();\n  const [formData, setFormData] = useState({ email: '', password: '' });\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState('');\n  const navigate = useNavigate();\n  const { post } = useApi();\n\n  const handleChange = (e) => {\n    setFormData({ \n      ...formData, \n      [e.target.name]: e.target.value \n    });\n    setError(''); // Clear error when user types\n    setSuccess(''); // Clear success when user types\n  };\n\n  const handleLogin = async (e) => {\n    e.preventDefault();\n    setError('');\n    setSuccess('');\n\n    try {\n      const data = await post('http://localhost:5001/api/login', formData, 'Logging in...');\n\n      const normalizedPackage = (data.package || \"free\").toLowerCase().replace(\" plan\", \"\").trim();\n      localStorage.setItem(\"package\", normalizedPackage);\n\n        if (formData.email === \"admin1234@gmail.com\" && formData.password === \"admin1234\") {\n          setSuccess(\"Admin login successful!\");\n          localStorage.setItem(\"isAdmin\", \"true\")\n        localStorage.setItem(\"isLoggedIn\", \"true\");\n          setTimeout(() => navigate('/Articles'), 1500);\n      } else {\n          localStorage.setItem(\"isAdmin\", \"false\");\n        localStorage.setItem(\"isLoggedIn\", \"true\");\n        setSuccess('Login successful!');\n        // redirect to dashboard or home\n        setTimeout(() => navigate('/'), 1500);\n        }\n    } catch (err) {\n      console.error(err);\n      setError(err.message || 'Error logging in.');\n    }\n  };\n\n  return (\n    <>\n      <div id=\"upperheader\">\n        <Header />\n        <div id=\"uuy\">\n          <form id=\"form\" onSubmit={handleLogin}>\n          <h2>{t(\"login.title\")}</h2>\n            {error && <div style={{ color: 'red', marginBottom: '10px', textAlign: 'center' }}>{error}</div>}\n            {success && <div style={{ color: 'green', marginBottom: '10px', textAlign: 'center' }}>{success}</div>}\n            <div id=\"ineerf\">\n            <span>{t(\"login.email\")} :</span>\n              <input type=\"email\" name=\"email\" value={formData.email} onChange={handleChange} required />\n            </div>\n            <div id=\"ineerf\">\n            <span>{t(\"login.password\")} :</span>\n              <input type=\"password\" name=\"password\" value={formData.password} onChange={handleChange} required />\n            </div>\n            <button type=\"submit\">{t(\"login.submit\")}</button>\n          </form>\n        </div>\n      </div>\n      <Footer2/>\n    </>\n  );\n};\n\nexport default Login;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}